<Window
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:MMLaunch;assembly=MMLaunch"
    xmlns:fsxaml="http://github.com/fsprojects/FsXaml"
    Title="ModelMod Launcher" Height="394" Width="618">
    <Window.DataContext>
        <local:MainViewModel/>
    </Window.DataContext>
    <Grid HorizontalAlignment="Left" Height="145" Margin="136,10,0,0" VerticalAlignment="Top" Width="226">
        <Grid.Resources>
            <DataTemplate x:Key="profileNameTemplate">
                <Label Content="{Binding Path=Name}"/>
            </DataTemplate>
        </Grid.Resources>
        <Grid HorizontalAlignment="Left" Height="143" Margin="-124,1,0,0" VerticalAlignment="Top" Width="113">
            <ListBox 
                HorizontalAlignment="Left" Height="123" Margin="10,10,0,0" VerticalAlignment="Top" Width="100"
                ItemsSource="{Binding Path=Profiles}"
                SelectedItem="{Binding Path=SelectedProfile,Mode=TwoWay}"
                ItemTemplate="{StaticResource profileNameTemplate}"/>
        </Grid>
        <Grid Margin="42,10,-196,10" Visibility="{Binding Path=ProfileAreaVisibility}">
            <Label Content="ExePath" HorizontalAlignment="Left" Margin="0,31,0,0" VerticalAlignment="Top"/>
            <Label Content="{Binding Path=SelectedProfile.ExePath}"  HorizontalAlignment="Left" Margin="108,31,0,0" VerticalAlignment="Top" Width="147" Height="26"/>
            <Label Content="Profile Name" HorizontalAlignment="Left" VerticalAlignment="Top"/>
            <TextBox Text="{Binding Path=SelectedProfile.Name, Mode=TwoWay}"  HorizontalAlignment="Left" Height="23" Margin="108,3,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="120"/>
            <Label Content="Input Profile" HorizontalAlignment="Left" Margin="0,62,0,0" VerticalAlignment="Top"/>
            <Label Content="Snapshot Profile" HorizontalAlignment="Left" Margin="0,93,0,0" VerticalAlignment="Top"/>
            <ComboBox ItemsSource="{Binding Path=InputProfiles}" 
                DisplayMemberPath="Name"
                SelectedValuePath="Name"
                SelectedValue="{Binding Path=SelectedProfile.InputProfile}"
                HorizontalAlignment="Left" Margin="108,66,0,0" VerticalAlignment="Top" Width="120"/>
            <ComboBox ItemsSource="{Binding Path=SnapshotProfiles}" 
                      DisplayMemberPath="Name"
                      SelectedValuePath="Name"
                      SelectedValue="{Binding Path=SelectedProfile.SnapshotProfile}"
                      HorizontalAlignment="Left" Margin="108,98,0,0" VerticalAlignment="Top" Width="120"/>
            <Button Command="{Binding Path=BrowseExe}" Content="Browse" HorizontalAlignment="Left" Margin="295,35,0,0" VerticalAlignment="Top" Width="75" IsDefault="True"/>
        </Grid>
        <Button Command="{Binding Path=StartSnapshot}"
            Content="Start (Snapshot)" HorizontalAlignment="Left" Height="30" Margin="-113,285,0,-170" VerticalAlignment="Top" Width="102"/>
    </Grid>
</Window>
